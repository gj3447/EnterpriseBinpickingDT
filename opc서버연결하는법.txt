OPC UA 게이트웨이를 띄우려면 먼저 python main.py로 서버를 실행하세요. GatewayServerV2가 opc.tcp://0.0.0.0:4840/doosan/server/에 바인딩하므로 PC의 실제 IP(지금은 192.168.0.196)에서 4840/tcp가 열려 있어야 외부에서 보입니다.
다른 장치/클라이언트에서는 엔드포인트를 opc.tcp://192.168.0.196:4840/doosan/server/로 입력하고 접속하십시오. 인증이나 보안 정책을 따로 설정하지 않았으므로 기본(Anonymous, None)으로 접속 가능합니다. 방화벽에서 포트 4840을 허용했는지도 확인하세요.
연결 후 Objects → MyRobot 아래에 Status, Commands, Gripper, ModbusConnection 등의 노드가 있으며, 각각 현재 조인트/툴 값과 명령 노드를 제공합니다. 필요 시 Commands 폴더의 변수에 쓰기 권한이 있으니 주의(예: Trigger, TargetJoints 등).
빠르게 확인하려면 UaExpert 같은 OPC UA 클라이언트를 사용해 위 엔드포인트로 접속한 뒤 노드 트리를 브라우즈하면 됩니다. 파이썬에서 테스트하려면 asyncua 클라이언트로 아래처럼 접속할 수 있습니다:
import asynciofrom asyncua import Clientasync def main():    url = "opc.tcp://192.168.0.196:4840/doosan/server/"    async with Client(url=url) as client:        root = client.nodes.root        print(await root.get_children())asyncio.run(main())
서버 측에서 로봇(Modbus) 연결이 필요하면 setting.py의 ROBOT_IP(기본 192.168.0.133)과 포트 502가 실제 장비와 통신 가능한지 확인하고, 연결이 안 될 경우 OPC 값 갱신이 멈출 수 있으므로 네트워크 상태도 점검해 주세요.